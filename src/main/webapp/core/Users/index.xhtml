<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        template="/WEB-INF/templates/template-publico.xhtml">

    <ui:define name="title">
        Gerenciar Usuários
    </ui:define>

    <ui:define name="content">
        <style>
            .user-card:hover {
                background-color: #edeff0;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                transform: scale(1.01);
                transition: all 0.3s ease;
            }
        </style>

        <section id="hero" class="hero section">
            <div class="container">
                <div class="w-50 mx-auto mt-5">

                <!-- Formulário de Novo Usuário -->
                <div class="row height d-flex justify-content-center align-items-center mb-5 mt-4 w-100">
                    <h2 class="text-center fw-bold fs-1 mb-4 mt-8">Criar Novo Usuário</h2>

                    <h:form>
                        <div class="mb-3">
                            <h:outputLabel for="email" value="Email" styleClass="form-label" />
                            <h:inputText id="email" value="#{manageUserController.newUser.email}" styleClass="form-control" required="true" />
                        </div>

                        <div class="mb-3">
                            <h:outputLabel for="password" value="Senha" styleClass="form-label" />
                            <h:inputSecret id="password" value="#{manageUserController.newUserPassword}" styleClass="form-control" required="true" />
                        </div>

                        <div class="mb-3">
                            <h:outputLabel for="role" value="Perfil" styleClass="form-label" />
                            <h:selectOneMenu id="role" value="#{manageUserController.newUser.role}" styleClass="form-select" required="true">
                                <f:selectItem itemLabel="ADMIN" itemValue="ADMIN" />
                            </h:selectOneMenu>
                        </div>

                        <div class="mt-3">
                            <h:commandButton value="Criar Usuário" action="#{manageUserController.createUser}" styleClass="btn btn-primary" />
                        </div>
                    </h:form>
                </div>

                <!-- Lista de Usuários -->
                <div class="row height d-flex justify-content-center align-items-center">
                    <h2 class="text-center fw-bold fs-1 mb-4">Usuários Cadastrados</h2>

                    <ui:repeat value="#{manageUserController.users}" var="user">
                        <div class="card p-3 rounded-4 mb-3 shadow-sm user-card fs-4">
                            <div><strong>Email:</strong> #{user.email}</div>
                            <div><strong>Perfil:</strong> #{user.role}</div>
                        </div>
                    </ui:repeat>
                </div>
                </div>
            </div>
        </section>
    </ui:define>
</ui:composition>
