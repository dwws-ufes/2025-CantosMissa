<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        template="/WEB-INF/templates/template-login-new.xhtml">

    <h:outputText value="#{flash.successMessage}"
                  styleClass="success-message"
                  rendered="#{not empty flash.successMessage}" />

    <ui:define name="body">
        <h:form>
            <p class="text-center mb-4"><h:outputText value="#{msgsCore['login.text.instructions']}"/></p>
            <p:messages closable="true" class="mb-4"/>
            <p:focus/>

            <div class="form-group has-feedback mb-4">
                <p:inputText value="#{sessionController.email}"
                             type="email"
                             styleClass="form-control form-control-lg"
                             placeholder="#{msgsCore['login.field.email.placeholder']}"
                             required="true"
                             requiredMessage="#{msgsCore['login.field.email.requiredMessage']}"/>
                <i class="fa fa-envelope form-control-feedback"/>
            </div>

            <div class="form-group has-feedback mb-4">
                <p:inputText value="#{sessionController.password}"
                             type="password"
                             styleClass="form-control form-control-lg"
                             placeholder="#{msgsCore['login.field.password.placeholder']}"
                             required="true"
                             requiredMessage="#{msgsCore['login.field.password.requiredMessage']}"/>
                <i class="fa fa-lock form-control-feedback" style="font-size: 18px"/>
            </div>

            <div class="row mb-4">
                <div class="col-12">
                    <p:commandButton id="loginButton"
                                     styleClass="btn btn-success btn-lg w-100"
                                     value="#{msgsCore['login.button.login']}"
                                     action="#{sessionController.login}"
                                     update="@form"/>
                </div>
            </div>

            <div class="text-center mt-4">
                <p:link outcome="/login.xhtml" value="#{msgsCore['login.text.forgot']}" styleClass="d-block mb-2"/>
                <p:link outcome="/login.xhtml" value="#{msgsCore['login.text.register']}" styleClass="d-block"/>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
